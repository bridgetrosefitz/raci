(this.webpackJsonpraci=this.webpackJsonpraci||[]).push([[0],{175:function(e,t,n){},176:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},192:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"index",(function(){return q})),n.d(r,"show",(function(){return Y})),n.d(r,"create",(function(){return K})),n.d(r,"destroy",(function(){return Q})),n.d(r,"update",(function(){return X}));var a={};n.r(a),n.d(a,"create",(function(){return Z})),n.d(a,"destroy",(function(){return $}));var s={};n.r(s),n.d(s,"create",(function(){return ee})),n.d(s,"destroy",(function(){return te}));var c={};n.r(c),n.d(c,"index",(function(){return ne}));var o={};n.r(o),n.d(o,"index",(function(){return re})),n.d(o,"login",(function(){return ae})),n.d(o,"signup",(function(){return se})),n.d(o,"profile",(function(){return ce})),n.d(o,"available_projects",(function(){return oe}));var i={};n.r(i),n.d(i,"create",(function(){return ie})),n.d(i,"update",(function(){return le})),n.d(i,"destroy",(function(){return de}));var l={};n.r(l),n.d(l,"create",(function(){return ue})),n.d(l,"destroy",(function(){return je}));var d=n(0),u=n.n(d),j=n(64),h=n.n(j),p=(n(175),n(7)),b=n(20),m=n(21),f=n(23),O=n(22),g=(n(176),n(158)),x=n(72),k=n(208),v=n(224),C=n(214),w=n(60),y=n(212),T=n(213),S=n(219),I=n(222),_=n(223),P=n(220),N=n(125),M=n(211),D=n(216),F=n(36),E=n(215),U=n(1);var A=function(e){var t=u.a.useState(!1),n=Object(F.a)(t,2),r=n[0],a=n[1];return Object(U.jsxs)(E.a,{onClose:function(){return a(!1)},onOpen:function(){return a(!0)},open:r,trigger:Object(U.jsxs)(P.a,{floated:"left",icon:!0,labelPosition:"left",primary:!0,onClick:e.onTriggerButtonClick,size:"small",children:[Object(U.jsx)(w.a,{name:"plus square"})," Add Task"]}),children:[Object(U.jsx)(E.a.Header,{children:"Create new task"}),Object(U.jsx)(E.a.Content,{children:Object(U.jsx)(E.a.Description,{children:Object(U.jsxs)(T.a,{children:[Object(U.jsxs)(T.a.Field,{children:[Object(U.jsx)("label",{children:"Text"}),Object(U.jsx)("input",{placeholder:"Define the task here...",value:e.taskName,onChange:e.handleTextFieldChange})]}),e.createDropdowns()]})})}),Object(U.jsxs)(E.a.Actions,{children:[Object(U.jsx)(P.a,{onClick:function(){return a(!1)},children:"Cancel"}),Object(U.jsx)(P.a,{type:"submit",icon:"checkmark",onClick:function(t,n){var r=n.taskName;a(!1),e.handleSubmit(t,r)},positive:!0,children:"Create task"})]})]})};var L=function(e){var t=Object(d.useState)(!1),n=Object(F.a)(t,2),r=n[0],a=n[1];return Object(U.jsxs)(E.a,{onClose:function(){return a(!1)},onOpen:function(){return a(!0)},open:r,trigger:Object(U.jsx)(P.a,{icon:!0,onClick:function(){e.putSelectedTaskDataInState(e.task.id)},floated:"right",children:Object(U.jsx)(w.a,{name:"pencil square"})}),children:[Object(U.jsx)(E.a.Header,{children:"Edit task"}),Object(U.jsx)(E.a.Content,{children:Object(U.jsx)(E.a.Description,{children:Object(U.jsxs)(T.a,{children:[Object(U.jsxs)(T.a.Field,{children:[Object(U.jsx)("label",{children:"Text"}),Object(U.jsx)("input",{placeholder:"Define the task here...",value:e.taskName,onChange:e.handleTextFieldChange})]}),e.createDropdowns(e.task)]})})}),Object(U.jsxs)(E.a.Actions,{children:[Object(U.jsxs)(P.a,{icon:!0,labelPosition:"right",color:"red",floated:"left",onClick:function(){var t=e.task;a(!1),e.handleDelete(t)},children:["Delete task",Object(U.jsx)(w.a,{name:"trash alternate outline"})]}),Object(U.jsx)(P.a,{onClick:function(){return a(!1)},children:"Cancel"}),Object(U.jsx)(P.a,{type:"submit",onClick:function(t,n){var r=e.task;a(!1),e.handleSubmit(t,r)},positive:!0,children:"Update task"})]})]})},H=function(e){var t=u.a.useState(!1),n=Object(F.a)(t,2),r=n[0],a=n[1];return Object(U.jsxs)(E.a,{basic:!0,onClose:function(){return a(!1)},onOpen:function(){return a(!0)},open:r,size:"small",trigger:Object(U.jsxs)(P.a,{color:"red",floated:"left",children:[Object(U.jsx)(w.a,{name:"trash alternate outline"}),"Delete project"]}),children:[Object(U.jsxs)(I.a,{icon:!0,children:[Object(U.jsx)(w.a,{name:"trash alternate outline"}),Object(U.jsx)("br",{}),"Are you sure you want to delete this project?"]}),Object(U.jsx)(E.a.Content,{children:Object(U.jsxs)(_.a,{children:[Object(U.jsx)(_.a.Column,{width:3}),Object(U.jsx)(_.a.Column,{width:10,children:Object(U.jsx)("p",{children:'Delete "'.concat(e.projectName,'" along with all associated tasks?')})}),Object(U.jsx)(_.a.Column,{width:3})]})}),Object(U.jsxs)(E.a.Actions,{children:[Object(U.jsxs)(P.a,{basic:!0,color:"grey",inverted:!0,onClick:function(){return a(!1)},children:[Object(U.jsx)(w.a,{name:"remove"})," No, go back"]}),Object(U.jsxs)(P.a,{color:"red",inverted:!0,onClick:function(){e.deleteProject(e.projectId),a(!1)},children:[Object(U.jsx)(w.a,{name:"checkmark"})," Yes, delete"]})]})]})},R=function(e){var t=u.a.useState(!1),n=Object(F.a)(t,2),r=n[0],a=n[1];return Object(U.jsxs)(E.a,{onClose:function(){return a(!1)},onOpen:function(){a(!0)},open:r,trigger:Object(U.jsx)("span",{children:Object(U.jsx)(P.a,{style:{marginLeft:"1.5vh",backgroundColor:"white"},icon:!0,color:"white",size:"big",onClick:function(){e.populateMembersToEdit()},children:Object(U.jsx)(w.a,{name:"pencil square"})})}),children:[Object(U.jsx)(E.a.Header,{children:"Edit Project"}),Object(U.jsx)(E.a.Content,{children:Object(U.jsx)(E.a.Description,{children:Object(U.jsxs)(T.a,{children:[Object(U.jsxs)(T.a.Field,{children:[Object(U.jsx)("label",{children:"Project name"}),Object(U.jsx)(T.a.Input,{error:e.projectNameHasError?{content:"Project must have a name",pointing:"below"}:null,onChange:e.onProjectNameChange,value:e.projectName})]}),Object(U.jsxs)(T.a.Field,{children:[Object(U.jsx)("label",{children:"Team members"}),e.createDropdown]})]})})}),Object(U.jsxs)(E.a.Actions,{children:[H({projectName:e.projectName,projectId:e.projectId,deleteProject:e.deleteProject}),Object(U.jsx)(P.a,{onClick:function(){a(!1)},children:"Cancel"}),Object(U.jsx)(P.a,{type:"submit",onClick:function(t){a(!1),e.onSubmit(t)},positive:!0,children:"Update project"})]})]})},B=function(e){return Object(U.jsx)(C.a,{borderless:!0,attached:"top",style:{border:"none"},children:Object(U.jsxs)(C.a.Menu,{position:"right",children:[Object(U.jsx)(C.a.Item,{children:e.userFullName?"Logged in as ".concat(e.userFullName):""}),e.onBack&&Object(U.jsx)(C.a.Item,{children:Object(U.jsx)(P.a,{onClick:e.onBack,floated:"right",children:e.backText})}),Object(U.jsx)(C.a.Item,{children:Object(U.jsx)(P.a,{onClick:e.logOut,children:"Log out"})})]})})},z=n(27),J=n.n(z),G=n(44),V="https://enigmatic-fortress-89780.herokuapp.com/api/v1",W={headers:Object(p.a)(Object(p.a)({},{Accept:"application/json","Content-Type":"application/json"}),{},{Authorization:"Bearer ".concat(localStorage.token)})},q=function(){return fetch("".concat(V,"/projects"),W).then((function(e){return e.json()}))},Y=function(e){return fetch("".concat(V,"/projects/").concat(e),W).then(function(){var e=Object(G.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,!t.ok){e.next=7;break}return e.abrupt("return",n);case 7:return e.abrupt("return",Promise.reject(n));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},K=function(e){return fetch("".concat(V,"/projects"),Object(p.a)(Object(p.a)({},W),{},{method:"POST",body:JSON.stringify(e)})).then((function(e){return e.json()}))},Q=function(e){return fetch("".concat(V,"/projects/").concat(e),Object(p.a)({method:"DELETE"},W))},X=function(e,t,n){return fetch("".concat(V,"/projects/").concat(e),Object(p.a)({method:"PUT",body:JSON.stringify({name:t})},W)).then((function(e){return e.json()}))},Z=function(e){return fetch("".concat(V,"/user_tasks"),Object(p.a)(Object(p.a)({},W),{},{method:"POST",body:JSON.stringify(e)})).then((function(e){return e.json()}))},$=function(e){return fetch("".concat(V,"/user_tasks/").concat(e),Object(p.a)({method:"DELETE"},W))},ee=function(e,t){return fetch("".concat(V,"/flags"),Object(p.a)(Object(p.a)({},W),{},{method:"POST",body:JSON.stringify({user_id:e,task_id:t})}))},te=function(e){return fetch("".concat(V,"/flags/").concat(e),Object(p.a)(Object(p.a)({},W),{},{method:"DELETE"}))},ne=function(){return fetch("".concat(V,"/functions"),W).then((function(e){return e.json()}))},re=function(){return fetch("".concat(V,"/users/"),W).then((function(e){return e.json()}))},ae=function(e){var t=e.email,n=e.password;return fetch("".concat(V,"/login"),Object(p.a)(Object(p.a)({},W),{},{method:"POST",body:JSON.stringify({email:t,password:n})})).then(function(){var e=Object(G.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,!t.ok){e.next=7;break}return e.abrupt("return",n);case 7:return e.abrupt("return",Promise.reject(n));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},se=function(e){var t=e.first_name,n=e.last_name,r=e.email,a=e.password;return fetch("".concat(V,"/signup"),Object(p.a)(Object(p.a)({},W),{},{method:"POST",body:JSON.stringify({first_name:t,last_name:n,email:r,password:a})})).then(function(){var e=Object(G.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,!t.ok){e.next=7;break}return e.abrupt("return",n);case 7:return e.abrupt("return",Promise.reject(n));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},ce=function(){return fetch("".concat(V,"/profile"),W).then((function(e){return e.json()}))},oe=function(){return fetch("".concat(V,"/available_projects"),W).then(function(){var e=Object(G.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,!t.ok){e.next=7;break}return e.abrupt("return",n);case 7:return e.abrupt("return",Promise.reject(n));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},ie=function(e,t){return fetch("".concat(V,"/tasks"),Object(p.a)(Object(p.a)({},W),{},{method:"POST",body:JSON.stringify({text:e,project_id:t})})).then((function(e){return e.json()}))},le=function(e,t,n){return fetch("".concat(V,"/tasks/").concat(e),Object(p.a)(Object(p.a)({},W),{},{method:"PUT",body:JSON.stringify({text:t,projectId:n})}))},de=function(e){return fetch("".concat(V,"/tasks/").concat(e),Object(p.a)(Object(p.a)({},W),{},{method:"DELETE"}))},ue=function(e,t){return fetch("".concat(V,"/memberships"),Object(p.a)(Object(p.a)({},W),{},{method:"POST",body:JSON.stringify({user_id:e,project_id:t})})).then(function(){var e=Object(G.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,!t.ok){e.next=7;break}return e.abrupt("return",n);case 7:return e.abrupt("return",Promise.reject(n));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},je=function(e){return fetch("".concat(V,"/memberships/").concat(e),Object(p.a)(Object(p.a)({},W),{},{method:"DELETE"})).then(function(){var e=Object(G.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,!t.ok){e.next=7;break}return e.abrupt("return",n);case 7:return e.abrupt("return",Promise.reject(n));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},he={Project:r,UserTask:a,Flag:s,Function:c,User:o,Task:i,Membership:l},pe=Object(x.createMedia)({breakpoints:{mobile:0,tablet:768,computer:1024}}),be=pe.MediaContextProvider,me=pe.Media,fe=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={},e.hideFixedMenu=function(){return e.setState({fixed:!1})},e.showFixedMenu=function(){return e.setState({fixed:!0})},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state.fixed;return Object(U.jsx)(me,{greaterThan:"mobile",children:Object(U.jsxs)(k.a,{children:[Object(U.jsx)(B,Object(p.a)(Object(p.a)({},this.props),{},{fixed:t?"top":null,inverted:!t,pointing:!t,secondary:!t,size:"large"})),e]})})}}]),n}(u.a.Component),Oe=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={},e.handleSidebarHide=function(){return e.setState({sidebarOpened:!1})},e.handleToggle=function(){return e.setState({sidebarOpened:!0})},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props.children,n=this.state.sidebarOpened;return Object(U.jsx)(me,{at:"mobile",children:Object(U.jsxs)(v.a.Pushable,{children:[Object(U.jsxs)(v.a,{as:C.a,animation:"overlay",onHide:this.handleSidebarHide,vertical:!0,visible:n,children:[Object(U.jsxs)(C.a.Item,{children:[" ",this.props.userFullName?"Logged in as ".concat(this.props.userFullName):""]}),Object(U.jsx)(C.a.Item,{as:"a",style:{color:"#2185d0"},onClick:function(){e.props.logOut()},children:"Log out"})]}),Object(U.jsx)(v.a.Pusher,{dimmed:n,children:Object(U.jsxs)(k.a,{style:{margin:"0 1em"},children:[Object(U.jsx)(C.a,{secondary:!0,size:"large",children:Object(U.jsx)(C.a.Item,{onClick:this.handleToggle,children:Object(U.jsx)(w.a,{name:"sidebar"})})}),t]})})]})})}}]),n}(u.a.Component),ge=function(e){return Object(U.jsxs)(be,{children:[Object(U.jsx)(fe,Object(p.a)(Object(p.a)({},e),{},{children:e.children})),Object(U.jsx)(Oe,Object(p.a)(Object(p.a)({},e),{},{children:e.children}))]})},xe=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).putProjectDataInState=function(){e.props.toggleLoader(!0);var t=e.props.match.params.id;he.Function.index().then((function(t){return e.setState({functions:t.data})})),he.Project.show(t).then((function(t){e.setState({projectId:t.data.id,projectName:t.data.attributes.name,projectNameForUpdating:t.data.attributes.name,tasks:t.data.attributes.tasks,creator:t.data.attributes.creator,members:t.data.attributes.members}),e.props.toggleLoader(!1)})).catch((function(){return e.props.history.push("/projects")}))},e.putAllUsersDataInState=function(){he.User.index().then((function(t){return e.setState({allUsers:t.data})}))},e.createTeamMemberOptions=function(){return e.state.members.map((function(e){return{key:e.id,text:e.first_name,value:e.id}}))},e.mapAllUsersToDropdown=function(){return e.state.allUsers.map((function(e){return{key:parseInt(e.id),text:e.attributes.full_name,value:parseInt(e.id)}}))},e.createDropdownForEditProjectModal=function(){var t=e.state.members?e.state.members.map((function(e){return e.id})):[];return Object(U.jsx)(y.a,{placeholder:"Add team members",fluid:!0,multiple:!0,selection:!0,options:e.mapAllUsersToDropdown(),defaultValue:t,onChange:function(t,n){e.handleDropdownChangeForEditProjectModal(n)}})},e.createDropdownsForEditTaskModal=function(t){return e.state.functions.map((function(n,r){var a=n.attributes.name.toLowerCase(),s=t?t[a].map((function(e){return e.user_id})):[];return Object(U.jsxs)(T.a.Field,{children:[Object(U.jsx)("label",{children:n.attributes.name}),Object(U.jsx)(y.a,{placeholder:"Select team member",fluid:!0,multiple:[3,4].includes(parseInt(n.id)),defaultValue:[3,4].includes(parseInt(n.id))?s:s[0],selection:!0,options:e.createTeamMemberOptions(),onChange:function(t,r){e.handleDropdownChangeForEditTaskModal(r,n)}})]},r)}))},e.createDropdownsForCreateTaskModal=function(t){return e.state.functions.map((function(t,n){t.attributes.name.toLowerCase();return Object(U.jsxs)(T.a.Field,{children:[Object(U.jsx)("label",{children:t.attributes.name}),Object(U.jsx)(y.a,{placeholder:"Select team member",fluid:!0,multiple:[3,4].includes(parseInt(t.id)),selection:!0,options:e.createTeamMemberOptions(),onChange:function(n,r){e.handleDropdownChangeForCreateModal(r,t)}})]},n)}))},e.mapAllUsersToDropdownOptions=function(){return e.state.allUsers.map((function(e){return{key:e.id,text:e.attributes.full_name,value:e.id}}))},e.handleDropdownChangeForCreateModal=function(t,n){var r=parseInt(n.id);1===r?e.setState({taskToCreateUserIds:Object(p.a)(Object(p.a)({},e.state.taskToCreateUserIds),{},{responsible:[t.value]})}):2===r?e.setState({taskToCreateUserIds:Object(p.a)(Object(p.a)({},e.state.taskToCreateUserIds),{},{accountable:[t.value]})}):3===r?e.setState({taskToCreateUserIds:Object(p.a)(Object(p.a)({},e.state.taskToCreateUserIds),{},{consulted:t.value})}):4===r&&e.setState({taskToCreateUserIds:Object(p.a)(Object(p.a)({},e.state.taskToCreateUserIds),{},{informed:t.value})})},e.handleDropdownChangeForEditTaskModal=function(t,n){var r=parseInt(n.id);1===r?e.setState({taskToEditUserIds:Object(p.a)(Object(p.a)({},e.state.taskToEditUserIds),{},{responsible:[t.value]})}):2===r?e.setState({taskToEditUserIds:Object(p.a)(Object(p.a)({},e.state.taskToEditUserIds),{},{accountable:[t.value]})}):3===r?e.setState({taskToEditUserIds:Object(p.a)(Object(p.a)({},e.state.taskToEditUserIds),{},{consulted:t.value})}):4===r&&e.setState({taskToEditUserIds:Object(p.a)(Object(p.a)({},e.state.taskToEditUserIds),{},{informed:t.value})})},e.handleDropdownChangeForEditProjectModal=function(t){e.setState({projectToEditMembers:t.value})},e.handleTextFieldChange=function(t){e.setState({taskNameForUpdating:t.target.value})},e.createUserTasks=function(t){var n=parseInt(t.data.id),r=[],a=e.state.taskToCreateUserIds;a.responsible.forEach((function(e){r.push({task_id:n,function_id:1,user_id:e})})),a.accountable.forEach((function(e){r.push({task_id:n,function_id:2,user_id:e})})),a.consulted.forEach((function(e){r.push({task_id:n,function_id:3,user_id:e})})),a.informed.forEach((function(e){r.push({task_id:n,function_id:4,user_id:e})})),r.forEach((function(t){he.UserTask.create(t).then(e.putProjectDataInState)})),e.setState({userTasksToCreate:[]})},e.handleSubmitOnTaskModal=function(t){t.preventDefault();var n=e.state.projectId,r=e.state.taskNameForUpdating;he.Task.create(r,n).then((function(t){return e.createUserTasks(t)}))},e.handleSubmitOnEditTaskModal=function(t,n){t.preventDefault();var r=e.state.projectId,a={responsible:[],accountable:[],consulted:[],informed:[]},s={responsible:[],accountable:[],consulted:[],informed:[]},c={responsible:[],accountable:[],consulted:[],informed:[]},o={responsible:[],accountable:[],consulted:[],informed:[]},i=e.state.taskToEditUserIds;c.responsible=e.state.selectedTask.responsible.map((function(e){return e.user_id})),c.accountable=e.state.selectedTask.accountable.map((function(e){return e.user_id})),c.consulted=e.state.selectedTask.consulted.map((function(e){return e.user_id})),c.informed=e.state.selectedTask.informed.map((function(e){return e.user_id})),s.responsible=c.responsible.filter((function(e){return!i.responsible.includes(e)})),s.accountable=c.accountable.filter((function(e){return!i.accountable.includes(e)})),s.consulted=c.consulted.filter((function(e){return!i.consulted.includes(e)})),s.informed=c.informed.filter((function(e){return!i.informed.includes(e)})),a.responsible=i.responsible.filter((function(e){return!c.responsible.includes(e)})),a.accountable=i.accountable.filter((function(e){return!c.accountable.includes(e)})),a.consulted=i.consulted.filter((function(e){return!c.consulted.includes(e)})),a.informed=i.informed.filter((function(e){return!c.informed.includes(e)})),o.responsible=e.state.selectedTask.responsible.map((function(e){if(s.responsible.includes(e.user_id))return e.user_task_id})),o.accountable=e.state.selectedTask.accountable.map((function(e){if(s.accountable.includes(e.user_id))return e.user_task_id})),o.consulted=e.state.selectedTask.consulted.map((function(e){if(s.consulted.includes(e.user_id))return e.user_task_id})),o.informed=e.state.selectedTask.informed.map((function(e){if(s.informed.includes(e.user_id))return e.user_task_id}));var l=Object.values(o),d=[].concat.apply([],l).filter((function(e){return void 0!==e})),u=n.id,j=[];a.responsible.forEach((function(e){j.push({task_id:u,function_id:1,user_id:e})})),a.accountable.forEach((function(e){j.push({task_id:u,function_id:2,user_id:e})})),a.consulted.forEach((function(e){j.push({task_id:u,function_id:3,user_id:e})})),a.informed.forEach((function(e){j.push({task_id:u,function_id:4,user_id:e})}));var h=[];d.forEach((function(e){h.push(he.UserTask.destroy(e))})),j.forEach((function(e){h.push(he.UserTask.create(e))})),e.state.taskNameForUpdating!==e.state.selectedTask.taskName&&""!==e.state.taskNameForUpdating&&h.push(he.Task.update(u,e.state.taskNameForUpdating,r)),Promise.allSettled(h).then(e.putProjectDataInState)},e.handleSubmitOnEditProjectModal=function(t){t.preventDefault();var n=e.state.projectId,r=e.state.members.map((function(e){return e.id})),a=e.state.projectToEditMembers,s=[],c=[],o=[];a.forEach((function(e){r.includes(e)||c.push(e)})),r.forEach((function(e){a.includes(e)||s.push(e)}));var i=[];c.forEach((function(e){i.push(he.Membership.create(e,n))})),e.state.members.forEach((function(e){s.includes(e.id)&&o.push(e.membership_id)})),o.forEach((function(e){i.push(he.Membership.destroy(e))})),e.state.projectName!==e.state.projectNameForUpdating&&""!==e.state.projectNameForUpdating&&i.push(he.Project.update(n,e.state.projectNameForUpdating)),Promise.allSettled(i).then(e.putProjectDataInState)},e.putSelectedProjectMembersDataInState=function(){var t=[];e.state.members.forEach((function(e){t=[].concat(Object(g.a)(t),[e.id])})),e.setState({projectToEditMembers:t})},e.putSelectedTaskDataInState=function(t){var n=null,r=null,a={responsible:[],accountable:[],consulted:[],informed:[]};e.state.tasks.forEach((function(e){e.id===t&&(n=e,r=e.task_name,a.responsible=e.responsible.map((function(e){return e.user_id})),a.accountable=e.accountable.map((function(e){return e.user_id})),a.consulted=e.consulted.map((function(e){return e.user_id})),a.informed=e.informed.map((function(e){return e.user_id})))})),e.setState({selectedTask:n,taskNameForUpdating:r,taskToEditUserIds:a})},e.handleDelete=function(t){he.Task.destroy(t.id).then(e.putProjectDataInState)},e.handleNewMemberSelection=function(t,n){e.setState({newMembersToAdd:n.value})},e.handleFlagging=function(t){t.flags.map((function(e){return e.user_id})).includes(e.props.userId)?t.flags.forEach((function(t){t.user_id===e.props.userId&&he.Flag.destroy(t.flag_id).then(e.putProjectDataInState)})):he.Flag.create(e.props.userId,t.id).then(e.putProjectDataInState)},e.createNewMembers=function(){e.state.newMembersToAdd.forEach((function(t){he.Membership.create(t,e.state.projectId).then(e.putProjectDataInState).catch((function(t){e.setState({topMessage:{header:"Error",message:t.errors},hideTopMessage:!1}),setTimeout((function(){return e.setState({hideTopMessage:!0,topMessage:{header:"",message:""}})}),2e3)}))})),e.setState({showAddUsers:!1})},e.deleteUserTask=function(t){he.UserTask.destroy(t.user_task_id).then(e.putProjectDataInState)},e.deleteProject=function(t){he.Project.destroy(t).then(e.redirectToProjectsIndexPage)},e.handleProjectNameChange=function(t){var n=t.target.value;e.setState({projectNameForUpdating:n})},e.state={allUsers:[],newMembersToAdd:[],showAddUsers:!1,hideTopMessage:!0,topMessage:{header:"",message:""},projectId:"",projectName:"",projectNameForUpdating:"",functions:[],tasks:[],creator:{},members:[],projectToEditMembers:[],selectedTask:{taskId:null,taskText:null,responsible:[],accountable:[],consulted:[],informed:[]},taskNameForUpdating:"",taskToCreateUserIds:{responsible:[],accountable:[],consulted:[],informed:[]},taskToEditUserIds:{responsible:[],accountable:[],consulted:[],informed:[]}},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){localStorage.token?(this.props.authenticateMe(),this.putAllUsersDataInState(),this.putProjectDataInState()):this.props.history.push("/login")}},{key:"render",value:function(){var e=this;return console.log("proppos within RACITable",this.props),Object(U.jsxs)(ge,Object(p.a)(Object(p.a)({},this.props),{},{children:[Object(U.jsxs)(S.a,{hidden:this.state.hideTopMessage,children:[Object(U.jsx)(S.a.Header,{children:this.state.topMessage.header}),Object(U.jsx)("p",{children:this.state.topMessage.message})]}),Object(U.jsxs)(I.a,{as:"h1",children:[this.state.projectName,Object(U.jsx)(R,{projectId:this.state.projectId,populateMembersToEdit:this.putSelectedProjectMembersDataInState,onProjectNameChange:this.handleProjectNameChange,projectName:this.state.projectNameForUpdating,createDropdown:this.createDropdownForEditProjectModal(),handleDropdownChange:this.handleDropdownChangeForEditProjectModal,onSubmit:this.handleSubmitOnEditProjectModal,deleteProject:this.deleteProject})]}),Object(U.jsx)(_.a,{children:this.state.showAddUsers?Object(U.jsx)(_.a.Column,{width:8,children:Object(U.jsxs)("div",{children:[Object(U.jsx)(y.a,{placeholder:"Add Users",onChange:this.handleNewMemberSelection,fluid:!0,multiple:!0,selection:!0,options:this.mapAllUsersToDropdown()}),Object(U.jsx)(P.a,{onClick:this.createNewMembers,children:"Add users"})]})}):Object(U.jsx)(_.a.Column,{width:8,children:Object(U.jsx)(N.a.Group,{circular:!0,children:this.state.members.map((function(e,t){return Object(U.jsx)(M.a,{size:"tiny",position:"bottom center",style:{padding:6},content:e.full_name,trigger:Object(U.jsx)(N.a,{children:e.initials},t)})}))})})}),Object(U.jsxs)(D.a,{celled:!0,children:[Object(U.jsxs)(me,{greaterThan:"mobile",children:[Object(U.jsx)(D.a.Header,{children:Object(U.jsxs)(D.a.Row,{children:[Object(U.jsx)(D.a.HeaderCell,{width:"four",children:"Task"}),Object(U.jsx)(D.a.HeaderCell,{width:"two",children:"Responsible"}),Object(U.jsx)(D.a.HeaderCell,{width:"two",children:"Accountable"}),Object(U.jsx)(D.a.HeaderCell,{width:"two",children:"Consulted"}),Object(U.jsx)(D.a.HeaderCell,{width:"two",children:"Informed"})]})}),Object(U.jsx)(D.a.Body,{children:this.state.tasks.map((function(t,n){return Object(U.jsxs)(D.a.Row,{error:t.flags.length>0,children:[Object(U.jsx)(D.a.Cell,{children:Object(U.jsxs)(_.a,{children:[Object(U.jsxs)(_.a.Column,{width:11,children:[t.task_name,Object(U.jsx)(N.a.Group,{circular:!0,children:t.flags.map((function(e,t){return Object(U.jsx)(M.a,{size:"tiny",position:"bottom center",style:{padding:6},content:e.user_full_name,trigger:Object(U.jsx)(N.a,{color:"red",children:e.user_initials},t)})}))})]}),Object(U.jsxs)(_.a.Column,{width:5,children:[Object(U.jsx)(L,{task:t,projectId:e.state.projectId,createDropdowns:function(){return e.createDropdownsForEditTaskModal(t)},putSelectedTaskDataInState:e.putSelectedTaskDataInState,taskName:e.state.taskNameForUpdating,handleTextFieldChange:e.handleTextFieldChange,handleDropdownChange:e.handleDropdownChangeForEditTaskModal,handleSubmit:e.handleSubmitOnEditTaskModal,handleDelete:e.handleDelete}),Object(U.jsx)(P.a,{icon:!0,onClick:function(){e.handleFlagging(t)},inverted:!!!t.flags.map((function(e){return e.user_id})).includes(e.props.userId),style:t.flags.map((function(e){return e.user_id})).includes(e.props.userId)?{backgroundColor:"white"}:null,floated:"right",children:Object(U.jsx)(w.a,{color:t.flags.length>0?"red":"grey",name:t.flags.length>0?"flag":"flag outline"})})]})]})}),Object(U.jsx)(D.a.Cell,{children:t.responsible.map((function(t,n){return Object(U.jsxs)(N.a,{style:{marginTop:2,marginBottom:2},color:t.user_id===e.props.userId&&"grey",children:[t.user_first_name,Object(U.jsx)(w.a,{onClick:function(){return e.deleteUserTask(t)},name:"delete"})]},n)}))}),Object(U.jsx)(D.a.Cell,{children:t.accountable.map((function(t,n){return Object(U.jsxs)(N.a,{style:{marginTop:2,marginBottom:2},color:t.user_id===e.props.userId&&"grey",children:[t.user_first_name,Object(U.jsx)(w.a,{onClick:function(){return e.deleteUserTask(t)},name:"delete"})]},n)}))}),Object(U.jsx)(D.a.Cell,{children:t.consulted.map((function(t,n){return Object(U.jsxs)(N.a,{style:{marginTop:2,marginBottom:2},color:t.user_id===e.props.userId&&"grey",children:[t.user_first_name,Object(U.jsx)(w.a,{onClick:function(){return e.deleteUserTask(t)},name:"delete"})]},n)}))}),Object(U.jsx)(D.a.Cell,{children:t.informed.map((function(t,n){return Object(U.jsxs)(N.a,{style:{marginTop:2,marginBottom:2},color:t.user_id===e.props.userId&&"grey",children:[t.user_first_name,Object(U.jsx)(w.a,{onClick:function(){return e.deleteUserTask(t)},name:"delete"})]},n)}))})]},n)}))}),Object(U.jsx)(D.a.Footer,{fullWidth:!0,children:Object(U.jsxs)(D.a.Row,{children:[Object(U.jsx)(D.a.HeaderCell,{children:Object(U.jsx)(A,{projectId:this.state.projectId,raciFunctions:this.state.functions,createDropdowns:this.createDropdownsForCreateTaskModal,taskName:this.state.selectedTask.task_name,handleTextFieldChange:this.handleTextFieldChange,handleDropdownChange:this.handleDropdownChangeForCreateModal,onTriggerButtonClick:function(){e.setState({selectedTask:{taskId:null,task_name:null,responsible:[],accountable:[],consulted:[],informed:[]}})},handleSubmit:this.handleSubmitOnTaskModal})}),Object(U.jsx)(D.a.HeaderCell,{colSpan:"4"})]})})]}),Object(U.jsxs)(me,{at:"mobile",children:[Object(U.jsx)(D.a.Header,{children:Object(U.jsx)(D.a.Row,{children:Object(U.jsx)(D.a.HeaderCell,{colSpan:"2",children:"Task number one"})})}),Object(U.jsxs)(D.a.Body,{children:[Object(U.jsxs)(D.a.Row,{children:[Object(U.jsx)(D.a.Cell,{colSpan:"1",children:"Responsible"}),Object(U.jsx)(D.a.Cell,{colSpan:"1",children:"Bridget"})]}),Object(U.jsxs)(D.a.Row,{children:[Object(U.jsx)(D.a.Cell,{children:"Accountable"}),Object(U.jsx)(D.a.Cell,{children:"Bridget"})]}),Object(U.jsxs)(D.a.Row,{children:[Object(U.jsx)(D.a.Cell,{children:"Consulted"}),Object(U.jsx)(D.a.Cell,{children:"Bridget"})]}),Object(U.jsxs)(D.a.Row,{children:[Object(U.jsx)(D.a.Cell,{children:"Informed"}),Object(U.jsx)(D.a.Cell,{children:"Bridget"})]})]})]})]})]}))}}]),n}(u.a.Component),ke=n(71),ve=n(218),Ce=n(63),we=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).isValidEmailAddress=function(e){return!!e.match(/.+@.+/)},e.loginInfoIsFull=function(){return e.state.loginInfo.password.length>1},e.handleSubmit=function(t){t.preventDefault(),he.User.login(e.state.loginInfo).then((function(t){t.token&&(localStorage.token=t.token,e.props.history.push("/projects"))})).catch((function(t){e.setState({errors:t.errors[0]}),setTimeout((function(){return e.setState({errors:null})}),2e3)}))},e.handleChange=function(t){e.setState((function(e){return{loginInfo:Object(p.a)(Object(p.a)({},e.loginInfo),{},Object(ke.a)({},t.target.name,t.target.value))}}))},e.state={loginInfo:{email:"",password:""},errors:null},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.toggleLoader(!1),localStorage.token&&this.props.history.push("/projects")}},{key:"render",value:function(){var e=this;return Object(U.jsxs)(k.a,{style:{height:"100vh",marginTop:"1%"},textAlign:"center",children:[Object(U.jsx)("div",{style:{position:"relative",marginTop:"2em",marginBottom:"3em"},children:Object(U.jsx)(P.a,{as:"h1",onClick:function(){return e.props.history.push("/")},style:{margin:"0 auto",width:"80px",height:"30px",lineHeight:"0.5em",fontSize:"1em",borderRadius:"4px",backgroundColor:"#2185d0",color:"#fff"},children:"RACI"})}),Object(U.jsxs)(ve.a,{centered:!0,style:{paddingTop:50,paddingBottom:50,paddingLeft:20,paddingRight:20},children:[Object(U.jsx)("h2",{children:"Login"}),Object(U.jsxs)(T.a,{error:this.state.errors,children:[Object(U.jsx)(T.a.Input,{placeholder:"Email",type:"email",name:"email",value:this.state.email,onChange:this.handleChange}),Object(U.jsx)("br",{}),Object(U.jsx)(T.a.Input,{placeholder:"Password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),Object(U.jsx)(S.a,{error:!0,header:"Error",content:this.state.errors}),Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsx)(P.a,{onClick:this.handleSubmit,color:!(!this.isValidEmailAddress(this.state.loginInfo.email)||!this.loginInfoIsFull())&&"blue",type:"submit",children:"Log in"})]}),Object(U.jsx)("br",{}),"Don't have an account? ",Object(U.jsx)(Ce.b,{to:"/signup",children:"Sign up"})]})]})}}]),n}(u.a.Component),ye=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).isValidEmailAddress=function(e){return!!e.match(/.+@.+/)},e.signupInfoIsFull=function(){return e.state.signupInfo.first_name.length>1&&e.state.signupInfo.last_name.length>1&&e.state.signupInfo.password.length>1},e.handleChange=function(t){e.setState((function(e){return{signupInfo:Object(p.a)(Object(p.a)({},e.signupInfo),{},Object(ke.a)({},t.target.name,t.target.value))}}))},e.handleSubmit=function(t){t.preventDefault(),he.User.signup(e.state.signupInfo).then((function(t){t.token&&(localStorage.token=t.token,e.props.history.push("/projects"))})).catch((function(t){t?(e.setState({errors:t.errors[0]}),setTimeout((function(){e.setState({errors:null})}),2e3)):e.setState({errors:"There was a problem creating your account. Please try again"})}))},e.state={signupInfo:{first_name:"",last_name:"",email:"",password:""},errors:null},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.toggleLoader(!1)}},{key:"render",value:function(){var e=this;return Object(U.jsxs)(k.a,{style:{height:"100vh",marginTop:"1%"},textAlign:"center",children:[Object(U.jsx)("div",{style:{position:"relative",marginTop:"2em",marginBottom:"3em"},children:Object(U.jsx)(P.a,{as:"h1",onClick:function(){return e.props.history.push("/")},style:{margin:"0 auto",width:"80px",height:"30px",lineHeight:"0.5em",fontSize:"1em",borderRadius:"4px",backgroundColor:"#2185d0",color:"#fff"},children:"RACI"})}),Object(U.jsxs)(ve.a,{centered:!0,style:{paddingTop:50,paddingBottom:50,paddingLeft:20,paddingRight:20},children:[Object(U.jsx)("h2",{children:"Sign up"}),Object(U.jsxs)(T.a,{error:this.state.errors,children:[Object(U.jsx)(T.a.Input,{placeholder:"First name",type:"text",name:"first_name",value:this.state.first_name,onChange:this.handleChange}),Object(U.jsx)("br",{}),Object(U.jsx)(T.a.Input,{placeholder:"Last name",type:"text",name:"last_name",value:this.state.last_name,onChange:this.handleChange}),Object(U.jsx)("br",{}),Object(U.jsx)(T.a.Input,{placeholder:"Email",type:"email",name:"email",value:this.state.email,onChange:this.handleChange}),Object(U.jsx)("br",{}),Object(U.jsx)(T.a.Input,{placeholder:"Password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),Object(U.jsx)(S.a,{error:!0,header:"Error",content:this.state.errors}),Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsx)(P.a,{onClick:this.handleSubmit,color:!(!this.isValidEmailAddress(this.state.signupInfo.email)||!this.signupInfoIsFull())&&"blue",type:"submit",children:"Create account"})]}),Object(U.jsx)("br",{}),"Already have an account?  ",Object(U.jsx)(Ce.b,{to:"/login",children:"Login"})]})]})}}]),n}(u.a.Component),Te=function(e){var t=u.a.useState(!1),n=Object(F.a)(t,2),r=n[0],a=n[1];return Object(U.jsxs)(E.a,{onClose:function(){return a(!1)},onOpen:function(){return a(!0)},open:r,trigger:e.trigger,children:[Object(U.jsx)(E.a.Header,{children:"Create Project"}),Object(U.jsx)(E.a.Content,{children:Object(U.jsx)(E.a.Description,{children:Object(U.jsxs)(T.a,{children:[Object(U.jsxs)(T.a.Field,{children:[Object(U.jsx)("label",{children:"Project name"}),Object(U.jsx)(T.a.Input,{error:e.projectNameHasError?{content:"Please enter your first name",pointing:"below"}:null,onChange:e.onProjectNameChange,value:e.projectName,placeholder:"Describe the project"})]}),Object(U.jsxs)(T.a.Field,{children:[Object(U.jsx)("label",{children:"Team members"}),Object(U.jsx)(y.a,{placeholder:"Add team members",onChange:e.onDropdownChange,fluid:!0,multiple:!0,selection:!0,options:e.dropdownOptions})]})]})})}),Object(U.jsxs)(E.a.Actions,{children:[Object(U.jsx)(P.a,{onClick:function(){a(!1),e.onCancel()},children:"Cancel"}),Object(U.jsx)(P.a,{type:"submit",onClick:function(t){a(!1),e.onSubmit(t)},positive:!0,children:"Create project"})]})]})},Se=Object(x.createMedia)({breakpoints:{mobile:0,tablet:768,computer:1024}}),Ie=Se.MediaContextProvider,_e=Se.Media,Pe=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={},e.hideFixedMenu=function(){return e.setState({fixed:!1})},e.showFixedMenu=function(){return e.setState({fixed:!0})},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state.fixed;return Object(U.jsx)(_e,{greaterThan:"mobile",children:Object(U.jsxs)(k.a,{children:[Object(U.jsx)(B,{fixed:t?"top":null,inverted:!t,pointing:!t,secondary:!t,size:"large",logOut:this.props.logOut,userFullName:this.props.userFullName}),e]})})}}]),n}(u.a.Component),Ne=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={},e.handleSidebarHide=function(){return e.setState({sidebarOpened:!1})},e.handleToggle=function(){return e.setState({sidebarOpened:!0})},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props.children,n=this.state.sidebarOpened;return Object(U.jsx)(_e,{at:"mobile",children:Object(U.jsxs)(v.a.Pushable,{children:[Object(U.jsxs)(v.a,{as:C.a,animation:"overlay",onHide:this.handleSidebarHide,vertical:!0,visible:n,children:[Object(U.jsxs)(C.a.Item,{children:[" ",this.props.userFullName?"Logged in as ".concat(this.props.userFullName):""]}),Object(U.jsx)(C.a.Item,{as:"a",style:{color:"#2185d0"},onClick:function(){e.props.logOut()},children:"Log out"})]}),Object(U.jsx)(v.a.Pusher,{dimmed:n,children:Object(U.jsxs)(k.a,{style:{margin:"0 1em"},children:[Object(U.jsx)(C.a,{secondary:!0,size:"large",children:Object(U.jsx)(C.a.Item,{onClick:this.handleToggle,children:Object(U.jsx)(w.a,{name:"sidebar"})})}),t]})})]})})}}]),n}(u.a.Component),Me=function(e){return Object(U.jsxs)(Ie,{children:[Object(U.jsx)(Pe,Object(p.a)(Object(p.a)({},e),{},{children:e.children})),Object(U.jsx)(Ne,Object(p.a)(Object(p.a)({},e),{},{children:e.children}))]})},De=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).putAllUsersDataInState=function(){return he.User.index().then((function(t){return e.setState({allUsers:t.data})}))},e.putProjectsDataInState=function(){e.props.toggleLoader(!0),he.User.available_projects().then((function(t){e.props.toggleLoader(!1),e.setState({projects:t.data})}))},e.handleNewMemberSelection=function(t,n){e.setState({newMembersToAdd:n.value})},e.handleProjectNameChange=function(t){var n=t.target.value;e.setState({projectName:n})},e.mapAllUsersToDropdownOptions=function(){return e.state.allUsers.map((function(e){return{key:e.id,text:e.attributes.full_name,value:e.id}}))},e.clearProjectNameField=function(){e.setState({projectName:""})},e.createNewMembers=function(t){e.state.newMembersToAdd.forEach((function(e,n){he.Membership.create(e,t)}))},e.createNewProject=function(){he.Project.create({name:e.state.projectName,creator_id:e.props.userId}).then((function(t){var n=t.data.id;e.createNewMembers(n)})).then(e.putProjectsDataInState)},e.createProjectCards=function(){return e.state.projects.map((function(t,n){return Object(U.jsx)(ve.a,{header:t.attributes.name,style:{height:"15vh"},onClick:function(){var n=t.id;e.redirectToProjectPage(n)}},n)}))},e.redirectToProjectPage=function(t){e.props.history.push("/projects/".concat(t))},e.createCardGroup=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(_e,{at:"mobile",children:Object(U.jsxs)(ve.a.Group,{itemsPerRow:1,style:{marginTop:"1em",marginBottom:"2em"},children:[e.createProjectCards(),Object(U.jsx)(Te,{projectNameHasError:e.state.newProjectNameHasError,trigger:Object(U.jsx)(ve.a,{color:"blue",header:Object(U.jsxs)("span",{children:[Object(U.jsx)(w.a,{name:"plus",color:"blue"}),Object(U.jsx)(I.a,{color:"blue",children:"Add project"})]})}),propsForCreateProjectModal:!0,onDropdownChange:e.handleNewMemberSelection,dropdownOptions:e.mapAllUsersToDropdownOptions(),onProjectNameChange:e.handleProjectNameChange,projectName:e.state.projectName,onSubmit:e.createNewProject,onCancel:e.clearProjectNameField})]})}),Object(U.jsx)(_e,{greaterThan:"mobile",children:Object(U.jsxs)(ve.a.Group,{itemsPerRow:3,style:{marginTop:20},children:[e.createProjectCards(),Object(U.jsx)(Te,{projectNameHasError:e.state.newProjectNameHasError,trigger:Object(U.jsx)(ve.a,{color:"blue",header:Object(U.jsxs)("span",{children:[Object(U.jsx)(w.a,{name:"plus",color:"blue"}),Object(U.jsx)(I.a,{color:"blue",children:"Add project"})]})}),propsForCreateProjectModal:!0,onDropdownChange:e.handleNewMemberSelection,dropdownOptions:e.mapAllUsersToDropdownOptions(),onProjectNameChange:e.handleProjectNameChange,projectName:e.state.projectName,onSubmit:e.createNewProject,onCancel:e.clearProjectNameField})]})})]})},e.state={projects:[],allUsers:[],projectName:"",newMembersToAdd:[],newProjectNameHasError:!1},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){localStorage.token?(this.props.authenticateMe(),this.putProjectsDataInState(),this.putAllUsersDataInState()):this.props.history.push("/login")}},{key:"render",value:function(){return Object(U.jsx)(Me,Object(p.a)(Object(p.a)({},this.props),{},{children:this.createCardGroup()}))}}]),n}(u.a.Component),Fe=(n(189),n(190),function(e){var t=e.direction,n=e.onClick,r=e.color,a=e.slideshowArrow;return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{className:" ".concat(a?"slideshow-arrow-".concat(t):""," ").concat(t," ").concat(r,"-arrow nav-arrow"),onTouchStart:n,onClick:n,children:[Object(U.jsx)("div",{className:"".concat(t," ").concat(r,"-arrow nav-arrow-left-tip")}),Object(U.jsx)("div",{className:"".concat(t," ").concat(r,"-arrow nav-arrow-right-tip")})]})})}),Ee=function(e){var t=e.dataAos,n=e.dataAosDuration,r=e.photos,a=e.arrowColor,s=Object(d.useState)(0),c=Object(F.a)(s,2),o=c[0],i=c[1],l=r[o].split("-".concat(o+1,"-"))[1].split(".")[0],u=function(e){var t=r.length-1;"left"===e?i(0===o?t:o-1):"right"===e&&i(o===t?0:o+1)};return Object(U.jsxs)("div",{"data-aos":t,"data-aos-duration":n,className:"photo-slideshow-container",children:[Object(U.jsx)("div",{className:"slideshow-panel-left"}),Object(U.jsx)("div",{className:"slideshow-panel-right"}),Object(U.jsx)(Fe,{slideshowArrow:!0,direction:"left",color:a,onClick:function(){return u("left")}}),Object(U.jsx)(Fe,{slideshowArrow:!0,direction:"right",color:a,onClick:function(){return u("right")}}),Object(U.jsx)("img",{className:"project-image",alt:l,src:r[o]})]})},Ue=n(209),Ae=n(225),Le=n(217),He=["/app-screenshots/raci-1-project-and-tasks-page.png","/app-screenshots/raci-2-signup.png","/app-screenshots/raci-3-login.png","/app-screenshots/raci-4-login-error.png","/app-screenshots/raci-5-projects-page.png","/app-screenshots/raci-6-edit-project.png","/app-screenshots/raci-7-new-task.png"],Re=Object(x.createMedia)({breakpoints:{mobile:0,tablet:768,computer:1024}}),Be=Re.MediaContextProvider,ze=Re.Media,Je=[{header:"Responsible",description:"You are hands-on doing the work",color:"blue"},{header:"Accountable",description:"You are answerable for timing and quality",color:"blue"},{header:"Consulted",description:"Your input is necessary",color:"blue"},{header:"Informed",description:"You need updates to do your own work well",color:"blue"}],Ge=function(e){return console.log("proppos",e),Object(U.jsxs)(k.a,{text:!0,children:[Object(U.jsx)(I.a,{as:"h1",content:"RACI",inverted:!0,style:{fontSize:e.mobile?"2em":"4em",fontWeight:"bold",marginBottom:0,marginTop:(e.mobile,"1em"),color:"#2185d0"}}),Object(U.jsx)(I.a,{as:"h1",content:"Do only what you need to. Know the rest is getting done.",inverted:!0,style:{fontSize:e.mobile?"1.5em":"3em",fontWeight:"normal",marginBottom:0,marginTop:e.mobile?"0.2em":"0.5em"}}),Object(U.jsxs)(P.a,{onClick:function(){e.history.push("/signup")},style:{marginTop:e.mobile?"2em":"2.2em"},primary:!0,size:e.mobile?"medium":"huge",children:["Get Started",Object(U.jsx)(w.a,{name:"right arrow"})]})]})},Ve=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={},e.hideFixedMenu=function(){return e.setState({fixed:!1})},e.showFixedMenu=function(){return e.setState({fixed:!0})},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props.children,n=this.state.fixed;return Object(U.jsxs)(ze,{greaterThan:"mobile",children:[Object(U.jsx)(Ue.a,{once:!1,children:Object(U.jsxs)(Ae.a,{inverted:!0,textAlign:"center",style:{minHeight:600,padding:"1em 0em"},vertical:!0,children:[Object(U.jsx)(C.a,{fixed:n?"top":null,inverted:!n,pointing:!n,secondary:!n,size:"large",children:Object(U.jsx)(k.a,{children:Object(U.jsxs)(C.a.Item,{position:"right",children:[Object(U.jsx)(P.a,{onClick:function(){e.props.history.push("/login")},as:"a",inverted:!n,children:"Log in"}),Object(U.jsx)(P.a,{onClick:function(){e.props.history.push("/signup")},as:"a",inverted:!n,primary:n,style:{marginLeft:"0.5em"},children:"Sign Up"})]})})}),Object(U.jsx)(Ge,Object(p.a)({},this.props))]})}),t]})}}]),n}(d.Component),We=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={},e.handleSidebarHide=function(){return e.setState({sidebarOpened:!1})},e.handleToggle=function(){return e.setState({sidebarOpened:!0})},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props.children,n=this.state.sidebarOpened;return Object(U.jsx)(ze,{as:v.a.Pushable,at:"mobile",children:Object(U.jsxs)(v.a.Pushable,{children:[Object(U.jsxs)(v.a,{as:C.a,animation:"overlay",inverted:!0,onHide:this.handleSidebarHide,vertical:!0,visible:n,children:[Object(U.jsx)(C.a.Item,{as:"a",onClick:function(){e.props.history.push("/login")},children:"Log in"}),Object(U.jsx)(C.a.Item,{as:"a",onClick:function(){e.props.history.push("/signup")},children:"Sign Up"})]}),Object(U.jsxs)(v.a.Pusher,{dimmed:n,children:[Object(U.jsxs)(Ae.a,{inverted:!0,textAlign:"center",style:{minHeight:350,padding:"1em 0em"},vertical:!0,children:[Object(U.jsx)(k.a,{children:Object(U.jsx)(C.a,{inverted:!0,pointing:!0,secondary:!0,size:"large",children:Object(U.jsx)(C.a.Item,{onClick:this.handleToggle,children:Object(U.jsx)(w.a,{name:"sidebar"})})})}),Object(U.jsx)(Ge,Object(p.a)(Object(p.a)({},this.props),{},{mobile:!0}))]}),t]})]})})}}]),n}(d.Component),qe=function(e){return Object(U.jsxs)(Be,{children:[Object(U.jsx)(Ve,Object(p.a)(Object(p.a)({},e),{},{children:e.children})),Object(U.jsx)(We,Object(p.a)(Object(p.a)({},e),{},{children:e.children}))]})},Ye=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.toggleLoader(!1)}},{key:"render",value:function(){var e=this;return Object(U.jsxs)(qe,Object(p.a)(Object(p.a)({},this.props),{},{children:[Object(U.jsx)(Ae.a,{style:{padding:"2em 0em"},vertical:!0,children:Object(U.jsxs)(_.a,{container:!0,stackable:!0,verticalAlign:"middle",children:[Object(U.jsx)(Ae.a,{style:{padding:"0em"},vertical:!0,children:Object(U.jsxs)(_.a.Row,{children:[Object(U.jsx)(ze,{at:"mobile",children:Object(U.jsx)(ve.a.Group,{centered:!0,items:Je,style:{flexWrap:"wrap",margin:"2em auto 3em auto",maxWidth:"70%"}})}),Object(U.jsx)(ze,{greaterThan:"mobile",children:Object(U.jsx)(ve.a.Group,{centered:!0,items:Je,style:{flexWrap:"nowrap",margin:"6em auto 3em auto",maxWidth:"70%"}})})]})}),Object(U.jsxs)(_.a.Row,{children:[Object(U.jsxs)(_.a.Column,{width:9,children:[Object(U.jsx)(I.a,{as:"h3",style:{fontSize:"2em",marginTop:"2em"},children:"The RACI Framework"}),Object(U.jsxs)("p",{style:{fontSize:"1.33em"},children:["RACI helps:",Object(U.jsxs)("ol",{children:[Object(U.jsx)("li",{children:"reduce the risk of low quality work due to murky accountability"}),Object(U.jsx)("li",{children:"make sure the right people have input on tasks (and gives team members authority to make decisions without input!)"}),Object(U.jsx)("li",{children:"prompt conversations about workload and capacity"})]})]}),Object(U.jsx)(I.a,{as:"h3",style:{fontSize:"2em"},children:"How it works"}),Object(U.jsx)("p",{style:{fontSize:"1.33em"},children:Object(U.jsxs)("ul",{children:[Object(U.jsx)("li",{children:"Create a project, and define tasks for that project"}),Object(U.jsx)("li",{children:"Show which team members are R, A, C, or I for each task"}),Object(U.jsx)("li",{children:"Team members can flag tasks when a scoping or workload issue arises"})]})})]}),Object(U.jsx)(_.a.Column,{floated:"right",width:6,children:Object(U.jsx)(Ee,{photos:He})})]}),Object(U.jsx)(_.a.Row,{children:Object(U.jsx)(_.a.Column,{textAlign:"center",children:Object(U.jsxs)(P.a,{onClick:function(){e.props.history.push("/signup")},style:{margin:"3em 0"},size:"huge",children:["Get started",Object(U.jsx)(w.a,{name:"right arrow"})]})})})]})}),Object(U.jsx)(Ae.a,{inverted:!0,vertical:!0,style:{padding:"5em 0em"},children:Object(U.jsx)(k.a,{children:Object(U.jsx)(_.a,{divided:!0,inverted:!0,stackable:!0,children:Object(U.jsx)(_.a.Row,{children:Object(U.jsxs)(_.a.Column,{width:8,children:[Object(U.jsx)(I.a,{inverted:!0,as:"h4",content:"\xa9 2021 Bridget Fitzgerald. I \u2665 RACI."}),Object(U.jsxs)(Le.a,{link:!0,inverted:!0,children:[Object(U.jsx)(Le.a.Item,{as:"a",href:"https://github.com/bridgetrosefitz/raci",target:"_blank",children:"View the code"}),Object(U.jsx)(Le.a.Item,{as:"a",href:"mailto:bridgetrosefitz@gmail.com",target:"_blank",children:"Contact"})]})]})})})})})]}))}}]),n}(u.a.Component),Ke=n(221),Qe=n(210),Xe=(n(191),n(13)),Ze=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={loaderIsActive:!0,user_id:null,full_name:null},e.authenticateMe=function(){he.User.profile().then((function(t){e.setState({user_id:parseInt(t.data.id),full_name:t.data.attributes.full_name})}))},e.logOut=function(){localStorage.clear(),e.props.history.push("/login")},e.toggleLoader=function(t){e.setState({loaderIsActive:t})},e.redirectToProjectsIndexPage=function(){e.props.history.push("/projects")},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){localStorage.token?this.authenticateMe():"/"===this.props.location.pathname&&"/signup"!==this.props.location.pathname||this.props.history.push("/login")}},{key:"render",value:function(){var e=this;return Object(U.jsxs)("div",{children:[Object(U.jsx)(Ke.a,{inverted:!0,active:this.state.loaderIsActive,children:Object(U.jsx)(Qe.a,{inverted:!0,content:"Loading"})}),Object(U.jsxs)(Xe.c,{children:[Object(U.jsx)(Xe.a,{path:"/login",render:function(t){return Object(U.jsx)(we,Object(p.a)(Object(p.a)({},t),{},{authenticateMe:e.authenticateMe,loaderIsActive:e.state.loaderIsActive,toggleLoader:e.toggleLoader,user_id:e.state.user_id}))}}),Object(U.jsx)(Xe.a,{path:"/signup",render:function(t){return Object(U.jsx)(ye,Object(p.a)(Object(p.a)({},t),{},{loaderIsActive:e.state.loaderIsActive,toggleLoader:e.toggleLoader}))}}),Object(U.jsx)(Xe.a,{path:"/projects/:id",render:function(t){return Object(U.jsx)(xe,Object(p.a)(Object(p.a)({},t),{},{authenticateMe:e.authenticateMe,loaderIsActive:e.state.loaderIsActive,toggleLoader:e.toggleLoader,userId:e.state.user_id,onBack:e.redirectToProjectsIndexPage,backText:"Back to Projects",userFullName:e.state.full_name,logOut:e.logOut}))}}),Object(U.jsx)(Xe.a,{path:"/projects",render:function(t){return Object(U.jsx)(De,Object(p.a)(Object(p.a)({},t),{},{authenticateMe:e.authenticateMe,loaderIsActive:e.state.loaderIsActive,toggleLoader:e.toggleLoader,userId:e.state.user_id,userFullName:e.state.full_name,logOut:e.logOut}))}}),Object(U.jsx)(Xe.a,{path:"/",render:function(t){return Object(U.jsx)(Ye,Object(p.a)(Object(p.a)({},t),{},{authenticateMe:e.authenticateMe,loaderIsActive:e.state.loaderIsActive,toggleLoader:e.toggleLoader,userId:e.state.user_id,userFullName:e.state.full_name,logOut:e.logOut}))}})]})]})}}]),n}(u.a.Component),$e=Object(Xe.f)(Ze),et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,227)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};h.a.render(Object(U.jsx)(Ce.a,{children:Object(U.jsx)(u.a.StrictMode,{children:Object(U.jsx)($e,{})})}),document.getElementById("root")),et()}},[[192,1,2]]]);
//# sourceMappingURL=main.d45a3901.chunk.js.map